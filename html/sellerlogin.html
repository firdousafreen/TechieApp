<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/sellerlogin.css">
    <title>Ecommerce for Agricultural Product!!!</title>
</head>
<body background="Toronto-restaurant-Sara-entertainment-district-OD_KCHN0554-HERO-SHOT.jpg"  >
<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-3">
    <div class="container">
        <a href="#" class="navbar-brand mr-3"><h2>TECHIE</h2></a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav col-sm-10">
                <a href="#" class="nav-item nav-link " onclick="location.href='home.html';">Home</a>
                <a href="#" class="nav-item nav-link "></a>
                <a href="#" class="nav-item nav-link"></a>
                <a href="#" class="nav-item nav-link"></a>
            </div>
            <div class="navbar-nav ml-auto col-sm-2">

                <a href="#" class="nav-item nav-link " onclick="location.href='/html/sellersignup.html';">Sign up</a>
                <a href="#" class="nav-item nav-link  active">Log in</a>

            </div>
        </div>
    </div>
</nav>
<div class="container">
    <section>
        <div class="container-fluid contentBx">
        <div class="formBx">
        <h2>Login</h2>
        <form>
        <div class="inputBx">
        <span>Username</span>
        <input type="email" class="form-control" id="inputEmail" onkeyup="checkregmail()">
        </div>
        <div class="inputBx">
        <span>Password</span>
        <input type="password" class="form-control" id="inputPassword">
        </div>
        <div class="inputBx">
        <input type="submit" value="Sign in" name="" onclick="loginClick()">
        </div>
        <div class="inputBx">
        <p>Don't have an acount? <a href="/html/sellersignup.html">Sign up</a></p>
        </div>
        </form>
        </div>
        </div>
        </section>

        </div>
            <script type="text/javascript">


        
                function loginClick(){
                    console.log('entered into click');
                    alert("login")
               
                    const email=document.getElementById('inputEmail').value;
                    const password=document.getElementById('inputPassword').value;

                    fetch("http://localhost:3005/sellerRegi/"+email)
                    .then(response => response.json())
                    .then(data => {
                        console.log(data)
                        var valu=JSON.stringify(data);
                            if(data[0].email == email && data[0].password == password){

                                  alert("login sucess" ); 
                                
                              }
                              else{
                                  alert("login Failed")
                              }   
                              
                    });
                     
                }


                function checkregmail(){
        console.log("entered into check mail");
        var decimal=  /^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        const element=document.getElementById('inputEmail');
        const email=element.value;
        if(email.match(decimal)){
            console.log("match");
            document.getElementById('alertregmail').innerHTML=``;
            document.getElementById('sign').disabled = false;
        }
        else{
            console.log("notmatch");
            document.getElementById('alertregmail').innerHTML=`enter valid email`;
            document.getElementById('sign').disabled = true;
        }
    }




            </script>








</body>
</html>                            