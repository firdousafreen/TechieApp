<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
   
    <title>Ecommerce for Agricultural Product!!!</title>
</head>
<body background="Toronto-restaurant-Sara-entertainment-district-OD_KCHN0554-HERO-SHOT.jpg"  >
<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-3">
    <div class="container">
        <a href="#" class="navbar-brand mr-3"><h2>TECHIE</h2></a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav col-sm-10">
                <a href="#" class="nav-item nav-link " onclick="location.href='home.html';">Home</a>
                <a href="#" class="nav-item nav-link "></a>
                <a href="#" class="nav-item nav-link"></a>
                <a href="#" class="nav-item nav-link"></a>
            </div>
            <div class="navbar-nav ml-auto col-sm-2">

                <a href="#" class="nav-item nav-link " onclick="location.href='/html/sellersignup.html';">Sign up</a>
                <a href="#" class="nav-item nav-link  active">Log in</a>

            </div>
        </div>
    </div>
</nav>
<div class="container">
    <!--Row with two equal columns-->
    <div class="row">
        <div class="col"> <div class="row">
            <div class="col"><form>

                <div class="form-group row">
                    <label for="inputEmail" class="col-sm-3 col-form-label"><h5 style="color:black; "><b>Email</b> </h5></label>
                    <div class="col-sm-9">
                        <input type="email" class="form-control" id="inputEmail" placeholder="Email" onkeyup="checkregmail()">
                          <p class="text-danger" id="alertregmail" /></p>
                    </div>
                   
                </div>
                <div class="form-group row">
                    <label for="inputPassword" class="col-sm-3 col-form-label"><h5 style="color:black; "><b>Password</b> </h5></label>
                    <div class="col-sm-9">
                        <input type="password" class="form-control" id="inputPassword" placeholder="Password">
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-10 offset-sm-2">
                        <label class="form-check-label"><input type="checkbox"> Remember me</label>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-10 offset-sm-2">
                        <button type="button" class="btn btn-primary" onclick="loginClick()">Log in </button>
                    </div>
                </div></div>
            <div class="col"> 
                  </div>

        </div>
            <script type="text/javascript">


        
                function loginClick(){
                    console.log('entered into click');
                    alert("login")
               
                    const email=document.getElementById('inputEmail').value;
                    const password=document.getElementById('inputPassword').value;

                    fetch("http://localhost:3005/sellerRegi/"+email)
                    .then(response => response.json())
                    .then(data => {
                        console.log(data)
                        var valu=JSON.stringify(data);
                            if(data[0].email == email && data[0].password == password){

                                  alert("login sucess" ); 
                                  debugger;
                                  localStorage.setItem('id',data[0]._id);
                                  localStorage.setItem('firstname',data[0].firstname);
                                  localStorage.setItem('lastname',data[0].lastname);
                                  localStorage.setItem('mailid',data[0].email);
                                  localStorage.setItem('phonenumber',data[0].phonenumber);
                                  localStorage.setItem('pin',data[0].pincode);
                                  localStorage.setItem('password',data[0].password);
                                  
                                 window.location="/html/product.html";
                              }
                              else{
                                  alert("login Failed")
                              }   
                              
                    });

    
                     
                }


                function checkregmail(){
        console.log("entered into check mail");
        var decimal=  /^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        const element=document.getElementById('inputEmail');
        const email=element.value;
        if(email.match(decimal)){
            console.log("match");
            document.getElementById('alertregmail').innerHTML=``;
            document.getElementById('sign').disabled = false;
        }
        else{
            console.log("notmatch");
            document.getElementById('alertregmail').innerHTML=`enter valid email`;
            document.getElementById('sign').disabled = true;
        }
    }




            </script>







<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

</body>
</html>                            